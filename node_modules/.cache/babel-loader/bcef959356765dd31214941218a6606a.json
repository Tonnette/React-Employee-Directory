{"ast":null,"code":"var _jsxFileName = \"/Users/tonnette/Desktop/React-Employee-Directory/src/pages/Search.js\";\nimport React, { Component } from \"react\";\nimport Container from \"../components/Container\";\nimport Row from \"../components/Row\";\nimport Col from \"../components/Col\";\nimport Card from \"../components/Card\";\nimport SearchForm from \"../components/SearchForm\";\nimport Table from \"../components/Table/Table\";\nimport \"./style.css\";\nimport API from \"../utils/API\";\nimport _ from 'lodash';\n\nclass Search extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      items: [],\n      search: \"\",\n      sortState: \"asc\"\n    };\n\n    this.sort = () => {\n      this.setState({\n        items: _.orderBy(this.state.items, item => {\n          return item.name.first;\n        }, this.state.sortState)\n      });\n\n      if (this.state.sortState === \"asc\") {\n        this.setState({\n          sortState: \"desc\"\n        });\n      } else if (this.state.sortState === \"desc\") {\n        this.setState({\n          sortState: \"asc\"\n        });\n      }\n    };\n\n    this.updateSearch = event => {\n      console.log(event.target.value);\n      this.setState({\n        search: event.target.value.substr(0, 35)\n      });\n    };\n  }\n\n  componentDidMount() {\n    API.getRandom() // .then((response) => response.json())\n    .then(response => {\n      this.setState({\n        items: response.data.results\n      });\n    }).catch(err => console.log(err));\n  }\n\n  render() {\n    let filteredContacts = this.state.items.filter(contact => {\n      return contact.name.first.toLowerCase().indexOf(this.state.search.toLowerCase()) !== -1 || contact.name.last.toLowerCase().indexOf(this.state.search.toLowerCase()) !== -1;\n    });\n    return /*#__PURE__*/React.createElement(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      size: \"sm-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      heading: \"Search\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(SearchForm, {\n      updateSearch: this.updateSearch,\n      value: this.state.search,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 29\n      }\n    })))), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      size: \"sm-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Table, {\n      filteredContacts: filteredContacts,\n      onNameClick: this.sort,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 29\n      }\n    }))));\n  }\n\n}\n\nexport default Search;","map":{"version":3,"sources":["/Users/tonnette/Desktop/React-Employee-Directory/src/pages/Search.js"],"names":["React","Component","Container","Row","Col","Card","SearchForm","Table","API","_","Search","state","items","search","sortState","sort","setState","orderBy","item","name","first","updateSearch","event","console","log","target","value","substr","componentDidMount","getRandom","then","response","data","results","catch","err","render","filteredContacts","filter","contact","toLowerCase","indexOf","last"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Container from \"../components/Container\";\nimport Row from \"../components/Row\";\nimport Col from \"../components/Col\";\nimport Card from \"../components/Card\";\nimport SearchForm from \"../components/SearchForm\";\nimport Table from \"../components/Table/Table\";\nimport \"./style.css\";\nimport API from \"../utils/API\";\nimport _ from 'lodash'\n\n\nclass Search extends Component {\n    state = {\n        items: [],\n        search: \"\",\n        sortState: \"asc\"\n    };\n\n    componentDidMount() {\n        API.getRandom()\n            // .then((response) => response.json())\n\n            .then(response => {\n                this.setState({\n                    items: response.data.results\n                });\n            })\n            .catch(err => console.log(err));\n    };\n\n    sort = () => {\n        this.setState({items: _.orderBy(this.state.items, (item) => {\n            return item.name.first;\n        }, this.state.sortState)})\n\n        if (this.state.sortState === \"asc\") {\n            this.setState({ sortState: \"desc\" });\n        }\n        else if (this.state.sortState === \"desc\") {\n            this.setState({ sortState: \"asc\" });\n        }\n    }\n\n    updateSearch = event => {\n        console.log(event.target.value);\n        this.setState({ search: event.target.value.substr(0, 35) });\n    };\n    render() {\n        let filteredContacts = this.state.items.filter(contact => {\n            return (\n                contact.name.first\n                    .toLowerCase()\n                    .indexOf(this.state.search.toLowerCase()) !== -1 ||\n                contact.name.last\n                    .toLowerCase()\n                    .indexOf(this.state.search.toLowerCase()) !== -1\n            );\n        });\n        return (\n            <Container>\n                <Row>\n                    <Col size=\"sm-12\">\n                        <Card heading=\"Search\">\n                            <SearchForm\n                            updateSearch={this.updateSearch}\n                            value={this.state.search}\n                            >\n                            </SearchForm>\n                    \n                        </Card>\n                    </Col>\n                    </Row>\n                    <Row>\n                    <Col size=\"sm-12\">\n                       \n                            <Table\n                            \n                                filteredContacts={filteredContacts}\n                                onNameClick={this.sort}\n                            ></Table>\n\n                    \n                    </Col>\n                </Row>\n            </Container>\n        );\n    }\n}\n\nexport default Search;\n"]},"metadata":{},"sourceType":"module"}